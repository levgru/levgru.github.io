<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact</title>

  <!-- Link to your existing CSS that includes your sidebar, header, layout, etc. -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
  <link rel="manifest" href="images/favicon/site.webmanifest">
</head>
<body>

  <!-- ======= HEADER ======= -->
  <header>
    <div class="header-content">
      <!-- Hamburger icon (mobile only) -->
      <div class="hamburger" onclick="toggleMenu()">
        <div class="bar bar1"></div>
        <div class="bar bar2"></div>
        <div class="bar bar3"></div>
      </div>

      <!-- Desktop Nav -->
      <nav id="navbar">
        <a href="index.html">Home</a>
        <a href="projects_research.html">Research &amp; Projects</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Popup Menu (mobile) -->
  <div id="popoutMenu">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="projects_research.html">Research &amp; Projects</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>

  <!-- ======= SIDEBAR ======= -->
  <aside class="sidebar">
    <div class="desktop-picture-container">
      <img
        src="images/headshot.jpg"
        alt="Profile Picture"
        class="desktop-profile-pic"
      />
    </div>

    <h2>Lev Gruber</h2>
    <p>
      3rd year undergraduate at Harvey Mudd College<br />
      Researcher in HMC Quantum Optics Group
    </p>
    <ul>
      <li>
        <a href="https://github.com/levgru" target="_blank">
          <img src="images/github_logo.png" alt="GitHub" class="icon" />
          GitHub
        </a>
      </li>
      <li>
        <a href="https://www.linkedin.com/in/levgruber" target="_blank">
          <img
            src="images/linkedin_logo.png"
            alt="LinkedIn"
            class="icon"
          />
          LinkedIn
        </a>
      </li>
      <li>
        <a href="mailto:lgruber@hmc.edu">
          <img src="images/email_logo.png" alt="Email" class="icon" />
          Email
        </a>
      </li>
    </ul>
  </aside>

  <!-- ======= MAIN CONTENT ======= -->
  <div class="layout">
    <main style="margin-left: 220px; padding: 20px;">
      <div class="contact-form-container">
        <h1>Contact Me</h1>
        <p>
          Feel free to reach out using the form below, or email me directly at:
          <a href="mailto:lgruber@hmc.edu">lgruber@hmc.edu</a>.
        </p>

        <!-- Success Message (hidden by default) -->
        <div id="formSuccess" class="success-message" style="display: none;">
          <p>Thank you for your message! I’ll get back to you soon.</p>
        </div>

        <!-- Netlify Form -->
        <!-- 
             Explanation:
             1) name="contact" -> The form name recognized by Netlify.
             2) method="POST" -> Data is sent via POST.
             3) data-netlify="true" -> Tells Netlify to process this form.
             4) data-netlify-recaptcha="true" -> reCAPTCHA integration.
             5) netlify-honeypot="bot-field" -> Hidden field to reduce spam.
             6) action="?submitted=true" -> Redirects to same page + ?submitted=true on success.
        -->
        <form
          name="contact"
          method="POST"
          data-netlify="true"
          data-netlify-recaptcha="true"
          netlify-honeypot="bot-field"
          action="?submitted=true"
        >
          <!-- Honeypot to reduce spam; user won't see this -->
          <p class="hidden">
            <label>Don’t fill this out if you're human: 
              <input name="bot-field" />
            </label>
          </p>

          <!-- Netlify form name (required hidden input) -->
          <input type="hidden" name="form-name" value="contact" />

          <!-- Name -->
          <label for="name">Name</label>
          <input 
            type="text"
            id="name"
            name="name"
            required
            placeholder="Your Name"
          />

          <!-- Email -->
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            placeholder="Your Email"
          />

          <!-- Message -->
          <label for="message">Message</label>
          <textarea
            id="message"
            name="message"
            rows="5"
            required
            placeholder="Your message here..."
          ></textarea>

          <!-- Netlify reCAPTCHA widget -->
          <div data-netlify-recaptcha="true"></div>

          <!-- Submit Button -->
          <button type="submit" class="contact-btn">
            Send Message
          </button>
        </form>
      </div>
    </main>
  </div>


  <footer>
    <p>&copy; 2025 Lev Gruber</p>
  </footer>


  <!-- ======= SCRIPTS ======= -->
  <script>
    // 1) Hamburger toggle for mobile
    function toggleMenu() {
      const hamburger = document.querySelector(".hamburger");
      const popoutMenu = document.getElementById("popoutMenu");
      hamburger.classList.toggle("open");
      popoutMenu.classList.toggle("show");
    }

    // 2) Check if form submission was successful
    //    If ?submitted=true is in the URL, show the success message
    window.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      if (params.has("submitted")) {
        // Show the success message
        const formSuccess = document.getElementById("formSuccess");
        if (formSuccess) {
          formSuccess.style.display = "block";
        }
      }
    });
  </script>

</body>
</html>

